{"filter":false,"title":"2014-12-22-hapijs-practice.md","tooltip":"/_posts/blog/2014-12-22-hapijs-practice.md","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":12},"end":{"row":16,"column":13},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":13},"end":{"row":16,"column":14},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":14},"end":{"row":16,"column":15},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":15},"end":{"row":16,"column":16},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":16},"end":{"row":16,"column":17},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":17},"end":{"row":16,"column":18},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":19},"end":{"row":16,"column":20},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":20},"end":{"row":16,"column":21},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":20},"end":{"row":16,"column":21},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":20},"end":{"row":16,"column":21},"action":"insert","lines":["-"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":21},"end":{"row":16,"column":22},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":22},"end":{"row":16,"column":23},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":23},"end":{"row":16,"column":24},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":24},"end":{"row":16,"column":25},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":25},"end":{"row":16,"column":26},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":26},"end":{"row":16,"column":27},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":27},"end":{"row":16,"column":28},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":28},"end":{"row":17,"column":0},"action":"insert","lines":["",""]},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":4},"end":{"row":18,"column":0},"action":"insert","lines":["",""]},{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":0},"end":{"row":18,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":60,"column":57},"action":"remove","lines":["``good`` 是一个访问日志插件，``good-console`` 是 ``good`` 插件的报告功能模块。"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":0},"end":{"row":18,"column":57},"action":"insert","lines":["``good`` 是一个访问日志插件，``good-console`` 是 ``good`` 插件的报告功能模块。"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":57},"end":{"row":18,"column":58},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":58},"end":{"row":18,"column":59},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":58},"end":{"row":18,"column":59},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":57},"end":{"row":18,"column":58},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":57},"end":{"row":18,"column":59},"action":"insert","lines":["管饭"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":58},"end":{"row":18,"column":59},"action":"remove","lines":["饭"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":57},"end":{"row":18,"column":58},"action":"remove","lines":["管"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":57},"end":{"row":18,"column":59},"action":"insert","lines":["官方"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":59},"end":{"row":18,"column":61},"action":"insert","lines":["万丈"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":61},"end":{"row":18,"column":62},"action":"insert","lines":["有"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":61},"end":{"row":18,"column":62},"action":"remove","lines":["有"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":60},"end":{"row":18,"column":61},"action":"remove","lines":["丈"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":59},"end":{"row":18,"column":60},"action":"remove","lines":["万"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":59},"end":{"row":18,"column":61},"action":"insert","lines":["网站"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":61},"end":{"row":18,"column":62},"action":"insert","lines":["有"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":62},"end":{"row":18,"column":63},"action":"insert","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":63},"end":{"row":18,"column":65},"action":"insert","lines":["完整"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":65},"end":{"row":18,"column":66},"action":"insert","lines":["的"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":66},"end":{"row":18,"column":68},"action":"insert","lines":["插件"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":68},"end":{"row":18,"column":70},"action":"insert","lines":["列表"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":70},"end":{"row":18,"column":71},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":71},"end":{"row":18,"column":72},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":72},"end":{"row":18,"column":73},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":73},"end":{"row":18,"column":74},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":74},"end":{"row":18,"column":75},"action":"insert","lines":["。"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":72},"end":{"row":18,"column":97},"action":"insert","lines":["http://hapijs.com/plugins"]}]}],[{"group":"doc","deltas":[{"start":{"row":18,"column":98},"end":{"row":18,"column":99},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":0},"end":{"row":67,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":11},"end":{"row":67,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":31},"end":{"row":67,"column":31},"action":"remove","lines":["","    ","    // 引入插件","    var Good = require('good');"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":31},"end":{"row":25,"column":31},"action":"insert","lines":["","    ","    // 引入插件","    var Good = require('good');"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":4},"end":{"row":22,"column":5},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":5},"end":{"row":22,"column":6},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":6},"end":{"row":22,"column":7},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":7},"end":{"row":22,"column":9},"action":"insert","lines":["引入"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":9},"end":{"row":22,"column":10},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":10},"end":{"row":22,"column":11},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":11},"end":{"row":22,"column":12},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":12},"end":{"row":22,"column":13},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":13},"end":{"row":22,"column":14},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":14},"end":{"row":22,"column":15},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":15},"end":{"row":22,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":4},"end":{"row":24,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":4},"end":{"row":27,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":29,"column":4},"end":{"row":29,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":4},"end":{"row":34,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":25,"column":11},"end":{"row":26,"column":0},"action":"insert","lines":["",""]},{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":4},"end":{"row":26,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":16},"end":{"row":23,"column":0},"action":"insert","lines":["",""]},{"start":{"row":23,"column":0},"end":{"row":23,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":4},"end":{"row":23,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":4},"end":{"row":34,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":4},"end":{"row":44,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":7},"end":{"row":104,"column":9},"action":"remove","lines":["","    ","    // 注册使用插件","    ","    server.register({","        register: Good,","        options: {","            reporters: [{","                reporter: require('good-console'),","                args:[{ log: '*', response: '*' }]","            }]","        }","    }, function (err) {","        if (err) {","            throw err; // 如果插件加载过程中出现错误","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":7},"end":{"row":66,"column":9},"action":"insert","lines":["","    ","    // 注册使用插件","    ","    server.register({","        register: Good,","        options: {","            reporters: [{","                reporter: require('good-console'),","                args:[{ log: '*', response: '*' }]","            }]","        }","    }, function (err) {","        if (err) {","            throw err; // 如果插件加载过程中出现错误","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":4},"end":{"row":52,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":4},"end":{"row":54,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":4},"end":{"row":67,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":4},"end":{"row":69,"column":5},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"remove","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"remove","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"remove","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":9},"end":{"row":67,"column":0},"action":"insert","lines":["",""]},{"start":{"row":67,"column":0},"end":{"row":67,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":4},"end":{"row":67,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":4},"end":{"row":67,"column":5},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":5},"end":{"row":67,"column":6},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":4},"end":{"row":67,"column":5},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"insert","lines":["    "]},{"start":{"row":58,"column":0},"end":{"row":58,"column":4},"action":"insert","lines":["    "]},{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"insert","lines":["    "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":13},"end":{"row":67,"column":4},"action":"remove","lines":["","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":13},"end":{"row":67,"column":0},"action":"insert","lines":["",""]},{"start":{"row":67,"column":0},"end":{"row":67,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":8},"end":{"row":67,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":9},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":4},"end":{"row":68,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":6},"end":{"row":113,"column":4},"action":"remove","lines":["使用插件","","1、首先要安装相关的插件，如：","","    npm install good --save","    npm install good-console --save","    ","","","2、通过 register 函数注册并使用插件","","    var Hapi = require('hapi');","    ","    var server = new Hapi.Server();","    server.connection({ port: 3000 });","    ","    server.route({","        method: 'GET',","        path: '/',","        handler: function (request, reply) {","            reply('Hello, world!');","        }","    });","    ","    server.route({","        method: 'GET',","        path: '/{name}',","        handler: function (request, reply) {","            reply('Hello, ' + encodeURIComponent(request.params.name) + '!');","        }","    });","    ","        server.start(function () {","            server.log('info', 'API 服务器运行在: ' + server.info.uri);","        });","    });","","### "]}]}]]},"ace":{"folds":[],"scrolltop":1416,"scrollleft":0,"selection":{"start":{"row":76,"column":29},"end":{"row":76,"column":29},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":{"row":86,"state":"allowBlock","mode":"ace/mode/markdown"}},"timestamp":1419336913010,"hash":"b2f4d9c2736f3379d882f0a7e025cf693495a86a"}